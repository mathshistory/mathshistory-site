{% extends "layout.html" %}

{% block title %}{{ this.letter }} - Biographies Index{% endblock %}

{% block body %}

<div class="row">
  <div class="col">
      <h1>Names starting with {{ this.letter }}</h1>

      {% if this.jumps|length > 0 %}
      <h4 id="jumps">
        Jump to section:
        {% for jump in this.jumps %}
        <a href="#jump-{{ jump }}">{{ jump }}</a>{% if not loop.last %},{% endif %}
        {% endfor %}
      </h4>
      {% endif %}

      <ul>
      {% for person in this.people %}
        {% if this.jumps|length > 0 %}
        {% if person['purged'].startswith(this.jumps|first) %}
      </ul>
      <h4 id="jump-{{ this.jumps|first }}">{{ this.jumps.pop(0) }} (<a href="#jumps">Back to top</a>)</h4>
      <ul>
        {% endif %}
        {% endif %}
        <li><a href="{{ person['person']|url }}">{{ person['display'] }}</a>{% if person['person'].birthyear|format_year %} ({{ person['person'].birthyear|format_year }} - {% if person['person'].deathyear %}{{ person['person'].deathyear|format_year }}{% endif %}){% endif %}</li>
      {% endfor %}
      </ul>
  </div>

  <!-- SIDEBAR -->
  <aside class="col-md-4">
    <div id="alphabetical-index-jumpbox" class="p-3 mb-3 bg-light rounded">
      <h4>Alphabetical Index</h4>
      {% import 'macros/biographyindextable.html' as table %}
      {{ table.biographyindextable() }}
    </div>

    <div class="p-3 mb-3 bg-light rounded">
      <h4>Categories</h4>
      {% for category in plugin_categories() %}
      <li><a href="{{ '/Biographies/@categoryindex/%s'|format(category.tag)|url }}">{{ category.name }}</a></li>
      {% endfor %}
    </div>
  </aside>
  <!-- END SIDEBAR -->

</div>

{% endblock %}
